<div class="container mt-4">
  <h2 class="mb-4">Produkte verwalten</h2>

  <div class="card mb-4">
    <div class="card-header">
      <h5>Neues Produkt hinzufügen</h5>
    </div>
    <div class="card-body">
      <form>
        <div class="mb-3">
          <label for="productName" class="form-label">Produktname</label>
          <input
            id="productName"
            type="text"
            class="form-control"
            [(ngModel)]="newProductName"
            name="productName"
          />
        </div>

        <div class="mb-3">
          <label for="productPrice" class="form-label">Preis</label>
          <input
            id="productPrice"
            type="number"
            class="form-control"
            [(ngModel)]="newProductPrice"
            name="productPrice"
          />
        </div>

        <div class="mb-3">
          <label for="productCategory" class="form-label">Kategorie</label>
          <select
            id="productCategory"
            class="form-select"
            [(ngModel)]="newProductCategory"
            name="productCategory"
            (change)="customCategory = ''"
          >
            <option *ngFor="let category of categories" [value]="category">
              {{ category }}
            </option>
            <option value="custom">Andere (bitte eingeben)</option>
          </select>
        </div>

        <div class="mb-3" *ngIf="newProductCategory === 'custom'">
          <label for="customCategory" class="form-label"
            >Benutzerdefinierte Kategorie</label
          >
          <input
            id="customCategory"
            type="text"
            class="form-control"
            [(ngModel)]="customCategory"
            name="customCategory"
          />
        </div>

        <button
          type="button"
          class="btn btn-primary w-100"
          (click)="addProduct()"
        >
          Produkt hinzufügen
        </button>
      </form>
    </div>
  </div>

  <ul class="list-group">
    <li
      class="list-group-item d-flex justify-content-between align-items-start"
      *ngFor="let product of products"
    >
      <div>
        <h6 class="fw-bold mb-1">{{ product.name }}</h6>
        <p class="mb-0">Preis: {{ product.price | currency }}</p>
        <p class="mb-0">Kategorie: {{ product.category }}</p>
      </div>
      <button class="btn btn-danger btn-sm" (click)="deleteProduct(product.id)">
        Löschen
      </button>
    </li>
  </ul>
</div>
